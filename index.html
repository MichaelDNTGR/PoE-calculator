<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PoE Calculator</title>

    <!-- Bootstrap stylesheet -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- Shepherd guide files (Stylesheet + JavaScript) -->
    <script src="https://cdn.jsdelivr.net/npm/shepherd.js@10.0.1/dist/js/shepherd.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/shepherd.js@10.0.1/dist/css/shepherd.css" />

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="Favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="Favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="Favicon/favicon-16x16.png">
    <link rel="manifest" href="Favicon/site.webmanifest">

    <!-- Local site styling -->
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- Container for full body - we require this container, for the Shepherd guide to work, and highlight the data -->
    <div class="containerall">
        <!-- Start calculator explanation -->
        <div class="container mt-5">
            <div class="row">
                <div class="col">
                    <h1>PoE Calculator</h1>
                    <div class="accordion accordion-flush" id="accordionFlushExample">
                        <!-- How to Use the PoE Calculator Section -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#howToUseCollapse" aria-expanded="false"
                                    aria-controls="howToUseCollapse">
                                    How to Use the PoE Calculator
                                </button>
                            </h2>
                            <div id="howToUseCollapse" class="accordion-collapse collapse"
                                data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body">
                                    <ol>
                                        <li>To get started, select a switch from the dropdown, or, select custom, and
                                            fill in the Wattage in the newly available field.</li>
                                        <li>Then, enter the number of devices for each PoE class in the respective input
                                            fields.</li>
                                        <li>The calculator will dynamically compute the leftover budget after
                                            considering the power consumption of the devices.</li>
                                        <li>You can view the PoE power allocation table to understand the power limits
                                    </ol>
                                </div>
                            </div>
                        </div>

                        <!-- Who Made It Section -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#whoMadeItCollapse" aria-expanded="false"
                                    aria-controls="whoMadeItCollapse">
                                    Who Made It
                                </button>
                            </h2>
                            <div id="whoMadeItCollapse" class="accordion-collapse collapse"
                                data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body">
                                    <p>Hi ðŸ‘‹ðŸ‘‹, I'm Michael Dijk ðŸ¤“, an AV systems Engineer for <a
                                            href="mailto:mdijk@netgear.com">NETGEAR</a>. Outside of work, I'm a
                                        full-stack
                                        developer
                                        working on various small projects.</p>
                                </div>
                            </div>
                        </div>

                        <!-- PoE Power Allocation Table Section -->
                        <div class="accordion-item" id="allocationTable">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#poeAllocationCollapse" aria-expanded="false"
                                    aria-controls="poeAllocationCollapse">
                                    PoE Power Allocation Table
                                </button>
                            </h2>
                            <div id="poeAllocationCollapse" class="accordion-collapse collapse"
                                data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Class</th>
                                                <th>IEEE PoE Standard</th>
                                                <th>PSE - Max Power Delivered (W)</th>
                                                <th>PSE Voltage Range</th>
                                                <th>PD - Power Available (W)</th>
                                                <th>PD Voltage Range</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>0</td>
                                                <td>IEEE 802.3af, PoE (2 pair)</td>
                                                <td>15.4</td>
                                                <td>44 â€“ 57 V</td>
                                                <td>12.95</td>
                                                <td>37 â€“ 57 V</td>
                                            </tr>
                                            <tr>
                                                <td>1</td>
                                                <td>IEEE 802.3af, PoE (2 pair)</td>
                                                <td>4</td>
                                                <td>44 â€“ 57 V</td>
                                                <td>3.84</td>
                                                <td>37 â€“ 57 V</td>
                                            </tr>
                                            <tr>
                                                <td>2</td>
                                                <td>IEEE 802.3af, PoE (2 pair)</td>
                                                <td>7</td>
                                                <td>44 â€“ 57 V</td>
                                                <td>6.49</td>
                                                <td>37 â€“ 57 V</td>
                                            </tr>
                                            <tr>
                                                <td>3</td>
                                                <td>IEEE 802.3af, PoE (2 pair)</td>
                                                <td>15.4</td>
                                                <td>44 â€“ 57 V</td>
                                                <td>12.95</td>
                                                <td>37 â€“ 57 V</td>
                                            </tr>
                                            <tr>
                                                <td>4</td>
                                                <td>IEEE 802.3at, PoE+ (2 pair)</td>
                                                <td>30</td>
                                                <td>50 â€“ 57 V</td>
                                                <td>25.5</td>
                                                <td>42 â€“ 57 V</td>
                                            </tr>
                                            <tr>
                                                <td>5</td>
                                                <td>IEEE 802.3bt, Type 3 (4 pair)</td>
                                                <td>45</td>
                                                <td>50 â€“ 57 V</td>
                                                <td>40</td>
                                                <td>42 â€“ 57 V</td>
                                            </tr>
                                            <tr>
                                                <td>6</td>
                                                <td>IEEE 802.3bt, Type 3 (4 pair)</td>
                                                <td>60</td>
                                                <td>50 â€“ 57 V</td>
                                                <td>51</td>
                                                <td>42 â€“ 57 V</td>
                                            </tr>
                                            <tr>
                                                <td>7</td>
                                                <td>IEEE 802.3bt, Type 4 (4 pair)</td>
                                                <td>75</td>
                                                <td>52 â€“ 57 V</td>
                                                <td>62</td>
                                                <td>51 â€“ 57 V</td>
                                            </tr>
                                            <tr>
                                                <td>8</td>
                                                <td>IEEE 802.3bt, Type 4 (4 pair)</td>
                                                <td>90</td>
                                                <td>52 â€“ 57 V</td>
                                                <td>73</td>
                                                <td>51 â€“ 57 V</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>


                        <!-- Power Management Modes Section -->
                        <div class="accordion-item" id="powerManagementMode">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#powerManagementCollapse" aria-expanded="false"
                                    aria-controls="powerManagementCollapse">
                                    Power Management Modes
                                </button>
                            </h2>
                            <div id="powerManagementCollapse" class="accordion-collapse collapse"
                                data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Mode</th>
                                                <th>Description</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Static Mode</td>
                                                <td>The power deducted from the total available PoE is the maximum power
                                                    for
                                                    that
                                                    interface, based on the PoE class specified by the device, or, when
                                                    specified in
                                                    the Power Limit configuration, under PoE Port Configuration. Using
                                                    this
                                                    mode
                                                    ensures that the maximum power specified by you, or, class, for the
                                                    interface is
                                                    always reserved and cannot be shared by other PDs.</td>
                                            </tr>
                                            <tr>
                                                <td>Dynamic Mode</td>
                                                <td>The power deducted from the total available PoE for each port is the
                                                    actual
                                                    power consumed by that given port. You can allocate any unused
                                                    portion
                                                    of power
                                                    to the other PDs. By default, this is the mode that the switch is
                                                    configured in.
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- Feature request Section -->
                        <div class="accordion-item" id="featureRequest">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#featureRequestCollapse" aria-expanded="false"
                                    aria-controls="featureRequestCollapse">
                                    How to log a feature request?
                                </button>
                            </h2>
                            <div id="featureRequestCollapse" class="accordion-collapse collapse"
                                data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body">
                                    <p>If you have a feature request or an idea to improve our PoE calculator, we
                                        encourage you to log it on our GitHub page. Please navigate to our <a
                                            href="https://github.com/MichaelDNTGR/PoE-calculator/issues" target="_blank"
                                            rel="noopener noreferrer">GitHub Issues</a> section and click on the "New
                                        Issue" button. From there, select the "Feature Request" template and provide as
                                        much detail as possible about your suggestion. I regularly review these requests
                                        and appreciates your valuable input!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <!-- End calculator explanation -->

        <!-- Start calculator itself -->
        <section class="container mt-5">
            <!-- Switch Family Selection -->
            <div class="form-group row mb-3">
                <label for="switchFamilySelection" class="col-sm-6 col-form-label">Select switch family</label>
                <div class="col-sm-6">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="m4350Family"
                            onchange="toggleRedundancyOptions(this.checked, 'm4350')">
                        <label class="form-check-label" for="m4350Family">M4350 Family</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="m4250Family"
                            onchange="toggleRedundancyOptions(this.checked, 'm4250')">
                        <label class="form-check-label" for="m4250Family">M4250 Family</label>
                    </div>
                </div>
            </div>

            <!-- PSU Redundancy Selection -->
            <div class="form-group row mb-3" id="psuRedundancyOptions" style="display: none;">
                <label class="col-sm-6 col-form-label">Do you require PSU redundancy?</label>
                <div class="col-sm-6">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="psuRedundancy"
                            onchange="updateDropdownOptions()">
                        <label class="form-check-label" for="psuRedundancy">Yes</label>
                    </div>
                </div>
            </div>

            <!-- Switch Selection Dropdown -->
            <div class="form-group row">
                <label for="switchSelection" class="col-sm-6 col-form-label">Select a NETGEAR switch</label>
                <div class="col-sm-6">
                    <select class="form-select" id="switchSelection" onchange="switchChanged()">
                        <option value="default" selected disabled>Select a NETGEAR switch</option>
                        <!-- Switch options will be populated here based on selection above -->
                        <option value="custom">Custom</option>
                    </select>
                </div>
            </div>

            <!-- Custom PoE Budget Field -->
            <div id="customBudgetField" style="display: none;">
                <div class="form-group row">
                    <label for="customBudget" class="col-sm-6 col-form-label">Custom PoE Budget (W)</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input type="number" placeholder="Enter custom PoE budget" class="form-control"
                                id="customBudget" oninput="calculateLeftoverBudget()">
                            <span class="input-group-text">W</span>
                        </div>
                    </div>
                </div>
            </div>
            <div id="customBudgetField" style="display: none;">
                <div class="form-group row">
                    <label for="customBudget" class="col-sm-6 col-form-label">Custom PoE Budget (W)</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input type="number" placeholder="Enter custom PoE budget" class="form-control"
                                id="customBudget" oninput="calculateLeftoverBudget()">
                            <span class="input-group-text">W</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Class Inputs -->
            <div class="classInputs">
                <div class="form-group row">
                    <label for="class0" class="col-sm-6 col-form-label">Class 0 Devices (15.4W) - PoE</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input type="number" class="form-control class-input" id="class0" value="0"
                                oninput="calculateLeftoverBudget()">
                            <span class="input-group-text">W</span>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="class1" class="col-sm-6 col-form-label">Class 1 Devices (4W) - PoE</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input type="number" class="form-control class-input" id="class1" value="0"
                                oninput="calculateLeftoverBudget()">
                            <span class="input-group-text">W</span>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="class2" class="col-sm-6 col-form-label">Class 2 Devices (7W) - PoE</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input type="number" class="form-control class-input" id="class2" value="0"
                                oninput="calculateLeftoverBudget()">
                            <span class="input-group-text">W</span>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="class3" class="col-sm-6 col-form-label">Class 3 Devices (15.4W) - PoE</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input type="number" class="form-control class-input" id="class3" value="0"
                                oninput="calculateLeftoverBudget()">
                            <span class="input-group-text">W</span>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="class4" class="col-sm-6 col-form-label">Class 4 Devices (30W) - PoE+</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input type="number" class="form-control class-input" id="class4" value="0"
                                oninput="calculateLeftoverBudget()">
                            <span class="input-group-text">W</span>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="class5" class="col-sm-6 col-form-label">Class 5 Devices (45W) - PoE++</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input type="number" class="form-control class-input" id="class5" value="0"
                                oninput="calculateLeftoverBudget()">
                            <span class="input-group-text">W</span>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="class6" class="col-sm-6 col-form-label">Class 6 Devices (60W) - PoE++</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input type="number" class="form-control class-input" id="class6" value="0"
                                oninput="calculateLeftoverBudget()">
                            <span class="input-group-text">W</span>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="class7" class="col-sm-6 col-form-label">Class 7 Devices (75W) - PoE++</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input type="number" class="form-control class-input" id="class7" value="0"
                                oninput="calculateLeftoverBudget()">
                            <span class="input-group-text">W</span>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="class8" class="col-sm-6 col-form-label">Class 8 Devices (90W) - PoE++</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input type="number" class="form-control class-input" id="class8" value="0"
                                oninput="calculateLeftoverBudget()">
                            <span class="input-group-text">W</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Leftover Budget Display -->
            <div class="form-group row">
                <label for="leftoverBudget" class="col-sm-6 col-form-label">Leftover Budget (W)</label>
                <div class="col-sm-6">
                    <div class="input-group">
                        <input type="number" class="form-control" id="leftoverBudget" readonly>
                        <span class="input-group-text">W</span>
                    </div>
                </div>
            </div>
        </section>
        <!-- End calculator itself -->

    </div>
    <!-- Container for full body - we require this container, for the Shepherd guide to work, and highlight the data -->

    <!-- Start footer -->
    <footer class="footer mt-auto py-3 mt-5">
        <div class="container text-center text-mute">
            <p>Created by <a href="https://github.com/MichaelDNTGR" target="_blank">Michael Dijk</a>, AV Systems
                Engineer at <a href="mailto:mdijk@netgear.com">NETGEAR</a></p>
            <p>&copy; <span id="currentYear"></span> All rights reserved.</p>
        </div>
    </footer>
    <!-- End footer -->


    <!-- Bootstrap scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <!-- Shepherd guide script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script>
    <script src="shepherd.js"></script>

    <!-- Start own scripts -->
    <!-- Calculator script -->
    <script src="calc.js"></script>
    <!-- Other script/data -->
    <script src="other.js"></script>
    <!-- End own scripts -->
</body>

</html>